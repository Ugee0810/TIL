# 📚 Introduce
Unity로 게임이나 애플리케이션을 개발할 때, 개발자들은 다양한 기술적 선택에 직면하게 됩니다. 이 선택들은 단순히 코드 작성에 그치지 않고, 프로젝트의 성능, 유지 관리, 배포 가능성에 중대한 영향을 미칩니다. 특히 Scripting Backend와 API Compatibility Level의 선택은 이러한 영향력을 극대화시키는 중요한 요소입니다. 이 글에서는 IL2CPP (Intermediate Language to C++)와 Mono, .NET Standard 2.1과 .NET Framework의 차이점과 각 선택이 실무에 미치는 영향을 심층적으로 분석합니다.

# 📚 IL2CPP와 Mono: 성능과 개발 효율성의 균형
#### 📓 Mono - 빠른 개발 주기를 위한 선택
Mono는 Just-In-Time (JIT) 컴파일을 사용하여 코드 실행 시점에 필요한 부분을 즉시 컴파일합니다. 이는 개발 중 빠른 피드백을 제공하는데 매우 유리합니다. 빌드 시간도 상대적으로 짧아, 잦은 코드 수정과 테스트가 필요한 초기 개발 단계에서 유용합니다.

JIT 컴파일은 런타임 중 코드가 실행될 때, 필요한 코드 부분을 즉석에서 컴파일합니다. 이를 통해 개발 중 실시간으로 수정된 코드의 결과를 확인할 수 있으며, 디버깅 시 유연성을 제공합니다. 그러나 JIT 방식은 최종 배포 시 성능이 저하될 수 있으며, 특히 리소스가 제한적인 모바일 및 콘솔 플랫폼에서는 이러한 성능 차이가 더욱 두드러질 수 있습니다.

#### 📓 IL2CPP - 최적의 성능과 보안
IL2CPP(Intermediate Language to C++)는 코드를 C++로 변환한 후 네이티브 코드로 컴파일하는 방식으로, Ahead-Of-Time (AOT) 컴파일을 사용합니다. AOT 컴파일은 코드가 미리 컴파일되어, 실행 시점에 추가적인 컴파일 과정이 필요하지 않도록 합니다. 이는 실행 속도와 성능을 극대화할 수 있는 장점이 있습니다.

또한 IL2CPP는 보안 측면에서도 Mono보다 우수합니다. 코드를 C++로 변환하기 때문에, 해커들이 코드를 역공학하기 어려워 보안성이 강화됩니다. 이러한 이유로, 모바일 및 콘솔 게임과 같이 높은 성능과 보안이 요구되는 환경에서 IL2CPP는 필수적인 선택입니다.

하지만 IL2CPP의 단점도 분명합니다. 빌드 시간이 상당히 길고, 디버깅이 복잡합니다. 네이티브 코드로 변환된 후 발생하는 문제는 추적하기 어려울 수 있으며, 이는 개발 과정에서 추가적인 어려움을 야기할 수 있습니다.

#### 📓 Q&A - 개발 주기의 향상을 위해 Mono로 개발 후 빌드 때만 IL2CPP로 변경했을 때 문제가 발생할 수 있나요?
개발 주기의 향상을 위해 Mono로 개발한 후 최종 빌드 시 IL2CPP로 변경하는 전략은 일반적인 접근 방식 중 하나입니다. 그러나 몇 가지 주의사항이 있습니다.

코드 호환성 문제: Mono와 IL2CPP는 컴파일 방식이 다르기 때문에, Mono에서 잘 작동하던 코드가 IL2CPP에서 오류를 일으킬 수 있습니다. 특히 IL2CPP는 AOT 컴파일을 사용하므로, JIT 컴파일 환경에서 동작하는 일부 코드 패턴(예: 동적 코드 생성)이 문제가 될 수 있습니다.

메모리 및 성능 문제: Mono와 IL2CPP의 메모리 관리 방식이 다르기 때문에, 최종 빌드에서 예상치 못한 메모리 사용량 증가나 성능 저하가 발생할 수 있습니다. IL2CPP는 네이티브 코드로 변환되므로, 메모리 최적화가 달라질 수 있습니다.

디버깅 복잡성: Mono에서 디버깅하던 코드가 IL2CPP에서 다르게 동작할 수 있으며, 네이티브 코드로 변환된 후 발생하는 버그를 추적하기 어려울 수 있습니다. 따라서 Mono로 개발 후 IL2CPP로 빌드할 때, 충분한 테스트를 통해 이러한 문제를 미리 발견하고 해결하는 것이 중요합니다.

이러한 이유로, Mono와 IL2CPP 간 전환 시에는 최종 빌드를 위한 충분한 테스트와 검토 과정이 필수적입니다. 개발 초기에는 Mono를 사용해 빠른 피드백을 얻고, 후반부에 IL2CPP로 전환하면서 발생할 수 있는 문제를 미리 확인하는 접근이 권장됩니다.

# 📚 .NET Standard 2.1 vs .NET Framework - 미래를 위한 선택
#### 📓 .NET Framework - 레거시 지원의 안정성
.NET Framework는 오래된 프로젝트에서 널리 사용되었으며, 대부분의 Unity 플러그인과 라이브러리가 이 환경에서 작동하도록 설계되었습니다. 이는 기존 프로젝트에서 호환성을 유지하는 데 매우 유리합니다.

그러나 .NET Framework는 Microsoft의 최신 기술 스택과 호환되지 않으며, 업데이트가 중단될 예정입니다. 이는 장기적으로 .NET Framework가 점차 도태될 가능성을 의미합니다. 또한, Windows 중심의 API로 인해 멀티플랫폼 지원이 제한적일 수 있습니다.

#### 📓 .NET Standard 2.1 - 멀티플랫폼과 최신 기능
.NET Standard 2.1은 플랫폼 독립적인 API를 제공하며, 다양한 플랫폼에서 동일한 코드를 사용할 수 있도록 지원합니다. 이는 Unity 프로젝트에서 멀티플랫폼 배포가 중요한 경우, 매우 유리한 선택이 될 수 있습니다.

.NET Standard는 최신 .NET Core 및 .NET 5/6/7과 호환되며, 최신 C# 기능을 활용할 수 있습니다. 이는 성능 최적화와 현대적인 프로그래밍 패턴을 적용하는 데 이점을 제공합니다. 그러나 일부 오래된 라이브러리나 플러그인과의 호환성 문제가 발생할 수 있으므로, 기존 코드베이스를 잘 살펴봐야 합니다.

# 📚 결론 - 프로젝트 요구 사항에 맞는 최적의 선택
Unity 개발에서 IL2CPP와 Mono, .NET Standard 2.1과 .NET Framework의 선택은 프로젝트의 성격과 목표에 따라 달라집니다. 높은 성능과 보안이 요구되는 환경에서는 IL2CPP와 .NET Standard 2.1이 적합합니다. 반면, 빠른 개발 주기와 기존 코드 호환성을 중시한다면 Mono와 .NET Framework가 유리할 수 있습니다.

개발자는 이러한 선택이 프로젝트의 최종 결과물에 미치는 영향을 깊이 고려하여, 가장 적합한 기술 스택을 선택해야 합니다. 기술적 선택의 무게를 신중하게 다루는 것이 성공적인 Unity 프로젝트를 만드는 첫 걸음입니다.
